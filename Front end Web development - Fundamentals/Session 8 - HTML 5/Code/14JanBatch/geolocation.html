<html>
<head>
	<title>Geolocation API</title>

</head>
<body>
<button onclick="getLocation()">Click Here</button>
<button onclick="getLocationContinuous()">Click Here to Watch Position</button>
<p id="para"></p>

<script type="text/javascript">
	var x = document.getElementById("para");

	function getLocation(){
		if(navigator.geolocation){
			navigator.geolocation.getCurrentPosition(showPosition, showError);
		}else {
			x.innerHTML = "Geolocation API is not supported by your browser";
		}
	}

	function showPosition(position){
		x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;

		console.log(new Date() + "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude);
	}

	function showError (error) {
		// body...
		switch(error.code){
			case error.PERMISSION_DENIED:
				x.innerHTML = "User denied the permission";
				break;
			case error.POSITION_UNAVAILABLE:
				x.innerHTML = "Location information not available";
				break;
			case error.TIMEOUT :
				x.innerHTML = "The request to get location timed out";
				break;
			case error.UNKNOWN_ERROR:
				x.innerHTML = "Unknown error occured";
				break;
		}
	}


	function getLocationContinuous(){
		if(navigator.geolocation){
			navigator.geolocation.watchPosition(showPosition, showError);
		}else {
			x.innerHTML = "Geolocation API is not supported by your browser";
		}
	}
</script>
</body>
</html>